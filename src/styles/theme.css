/*
  Christmas Theme Tokens
  --------------------------------------------------
  This file defines design tokens using CSS custom properties.
  - Base tokens: global colors, surfaces, borders, states, typography, focus, radii, shadows
  - Component tokens: buttons, adminbar, modal/overlay (alias to base tokens only; no raw hex here)
  - Dark variant: override tokens under .theme-dark

  Accessibility:
  - Text on dark green/red uses #FAFAFA (token: --color-text-on-dark) to ensure >= 4.5:1 contrast
  - Text on light surfaces uses #111111 (token: --color-text)
  - Focus states use a gold outline for strong visibility
*/

/* --------------------------------------------------
   Base tokens (global)
   -------------------------------------------------- */
:root {
  /* Colors: Primary Christmas palette */
  --color-primary-green: #064420; /* dark Christmas green */
  --color-primary-red: #8B0000;   /* deep red */
  --color-accent-gold: #FFD700;   /* warm gold */
  --color-text-on-dark: #FAFAFA;  /* snow white for text on dark */

  /* Support / UI neutrals */
  --color-green-hover: #0B6E4F;  /* lighter pine for hover */
  --color-red-hover: #AA0C0C;    /* red hover */
  --color-danger: #C62828;       /* confirm/reset */
  --color-silver: #D9D9D9;       /* subtle borders/placeholders */
  --color-text: #111111;         /* base text on light */

  /* Surfaces */
  --surface-default: #FFFFFF;    /* app background */
  --surface-alt: #F7F7F7;        /* subtle panels */
  --surface-elevated: #FFFFFF;   /* cards/modals, with shadow */

  /* Borders */
  --border-subtle: #E6E6E6;      /* light separators */

  /* State / feedback colors */
  --state-success: #2E7D32;
  --state-warning: #C47F00;      /* gold-tinted warning */
  --state-info: #1565C0;
  --state-danger: #C62828;

  /* Layout & text defaults derived from base */
  --bg: var(--surface-default);
  --text: var(--color-text);

  /* Focus styling */
  --focus-color: var(--color-accent-gold);
  --focus-ring: 0 0 0 3px var(--focus-color);

  /* Overlay scrim (base token for translucency) */
  --overlay-scrim: rgba(17, 17, 17, 0.45);

  /* Typography */
  --font-sans: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --line-height-base: 1.5;

  /* Radius (bonus) */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;

  /* Shadows (bonus) - soft, green-tinted for warmth */
  --shadow-sm: 0 1px 2px rgba(6, 68, 32, 0.08);
  --shadow-md: 0 4px 12px rgba(6, 68, 32, 0.12);
  --shadow-lg: 0 10px 30px rgba(6, 68, 32, 0.16);
}

/* --------------------------------------------------
   Component tokens (aliases to base tokens)
   -------------------------------------------------- */
:root {
  /* Buttons: default (neutral), primary (red), success (green), danger (intense red) */
  /* Default button */
  --btn-bg: var(--surface-alt);
  --btn-text: var(--text);
  --btn-border: var(--border-subtle);
  --btn-hover-bg: #ffffff; /* using elevated white is acceptable via surface */
  --btn-disabled-bg: var(--surface-alt);
  --btn-disabled-text: color-mix(in srgb, var(--text) 45%, white);
  --btn-radius: var(--radius-md);
  --btn-shadow: var(--shadow-sm);
  --btn-focus-ring: var(--focus-ring);

  /* Primary (festive red) */
  --btn-primary-bg: var(--color-primary-red);
  --btn-primary-text: var(--color-text-on-dark);
  --btn-primary-border: color-mix(in srgb, var(--color-primary-red) 85%, black);
  --btn-primary-hover-bg: var(--color-red-hover);
  --btn-primary-shadow: var(--shadow-sm);

  /* Success (evergreen) */
  --btn-success-bg: var(--color-primary-green);
  --btn-success-text: var(--color-text-on-dark);
  --btn-success-border: color-mix(in srgb, var(--color-primary-green) 85%, black);
  --btn-success-hover-bg: var(--color-green-hover);
  --btn-success-shadow: var(--shadow-sm);

  /* Danger (intense red) */
  --btn-danger-bg: var(--state-danger);
  --btn-danger-text: var(--color-text-on-dark);
  --btn-danger-border: color-mix(in srgb, var(--state-danger) 85%, black);
  --btn-danger-hover-bg: var(--color-red-hover);
  --btn-danger-shadow: var(--shadow-sm);

  /* Adminbar: diagonal red/green stripes + gold top border */
  --adminbar-stripe-red: var(--color-primary-red);
  --adminbar-stripe-green: var(--color-primary-green);
  --adminbar-bg: repeating-linear-gradient(
    135deg,
    var(--adminbar-stripe-green) 0 16px,
    var(--adminbar-stripe-red) 16px 32px
  );
  --adminbar-text: var(--color-text-on-dark);
  --adminbar-top-border: 2px solid var(--color-accent-gold);

  /* Modal / Overlay */
  --modal-bg: var(--surface-elevated);
  --modal-text: var(--text);
  --modal-radius: var(--radius-lg);
  --modal-shadow: var(--shadow-lg);
  --overlay-bg: var(--overlay-scrim);

  /* Links and accents */
  --link-color: var(--color-primary-green);
  --link-hover-underline-color: var(--color-accent-gold); /* gold hover underline only */
}

/* --------------------------------------------------
   Dark variant overrides
   Usage: add class .theme-dark at a high level (e.g., on <html> or <body>)
   -------------------------------------------------- */
.theme-dark {
  /* Dark surfaces and text */
  --bg: #042D16;                 /* deep green background */
  --text: var(--color-text-on-dark);

  --surface-default: #0E1A14;    /* darker panels */
  --surface-alt: #13261D;        /* alt panel */
  --surface-elevated: #13261D;   /* cards/modals */

  --border-subtle: #1E3A2D;      /* subtle borders on dark */

  /* Keep gold as accent for contrast */
  --color-accent-gold: #FFD700;

  /* Hovers keep the same semantic intent */
  --color-green-hover: #0B6E4F;
  --color-red-hover: #AA0C0C;

  /* Shadows: slightly stronger spread but still soft */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.25);
  --shadow-md: 0 6px 16px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 12px 36px rgba(0, 0, 0, 0.38);

  /* Overlay appears a bit darker on dark theme for separation */
  --overlay-scrim: rgba(0, 0, 0, 0.55);

  /* Buttons on dark: defaults lean on surfaces/text above */
  --btn-bg: color-mix(in srgb, var(--surface-alt) 85%, black);
  --btn-text: var(--text);
  --btn-border: color-mix(in srgb, var(--border-subtle) 65%, black);
  --btn-hover-bg: color-mix(in srgb, var(--surface-elevated) 85%, black);
  --btn-disabled-bg: color-mix(in srgb, var(--surface-alt) 60%, black);
}

/* --------------------------------------------------
   Suggested generic usage helpers (non-invasive)
   Note: These are not required styles, just helpers aligning with tokens.
   -------------------------------------------------- */
:root, .theme-dark {
  /* Generic application of background and text */
  color: var(--text);
  background-color: var(--bg);
}

*:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
  border-radius: var(--radius-sm);
}

/* Accessibility validations (documentation notes):
   - Text on dark green/red uses --color-text-on-dark (#FAFAFA) for >= 4.5:1 contrast
   - Text on gold (â€“color-accent-gold) should use dark text (--color-text #111111)
   - Adminbar remains readable over content; buttons use strong contrast via tokens above
*/
